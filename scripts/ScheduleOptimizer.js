var ScheduleOptimizer = (function () {

    var _possibleOffsets = [
            [-3, 1, 5],[-3, 1, 6],[-3, 1, 7],[-3, 1, 8],[-3, 1, 9],[-3, 1, 10],[-3, 1, 11],[-3, 1, 12],[-3, 1, 13],[-3, 1, 14],[-3, 1, 15],[-3, 1, 16],[-3, 1, 17],[-3, 1, 18],[-3, 1, 19],[-3, 1, 20],[-3, 1, 21],[-3, 1, 22],[-3, 1, 23],[-3, 2, 6],[-3, 2, 7],[-3, 2, 8],[-3, 2, 9],[-3, 2, 10],[-3, 2, 11],[-3, 2, 12],[-3, 2, 13],[-3, 2, 14],[-3, 2, 15],[-3, 2, 16],[-3, 2, 17],[-3, 2, 18],[-3, 2, 19],[-3, 2, 20],[-3, 2, 21],[-3, 2, 22],[-3, 2, 23],[-3, 3, 7],[-3, 3, 8],[-3, 3, 9],[-3, 3, 10],[-3, 3, 11],[-3, 3, 12],[-3, 3, 13],[-3, 3, 14],[-3, 3, 15],[-3, 3, 16],[-3, 3, 17],[-3, 3, 18],[-3, 3, 19],[-3, 3, 20],[-3, 3, 21],[-3, 3, 22],[-3, 3, 23],[-3, 4, 8],[-3, 4, 9],[-3, 4, 10],[-3, 4, 11],[-3, 4, 12],[-3, 4, 13],[-3, 4, 14],[-3, 4, 15],[-3, 4, 16],[-3, 4, 17],[-3, 4, 18],[-3, 4, 19],[-3, 4, 20],[-3, 4, 21],[-3, 4, 22],[-3, 4, 23],[-3, 5, 9],[-3, 5, 10],[-3, 5, 11],[-3, 5, 12],[-3, 5, 13],[-3, 5, 14],[-3, 5, 15],[-3, 5, 16],[-3, 5, 17],[-3, 5, 18],[-3, 5, 19],[-3, 5, 20],[-3, 5, 21],[-3, 5, 22],[-3, 5, 23],[-3, 6, 10],[-3, 6, 11],[-3, 6, 12],[-3, 6, 13],[-3, 6, 14],[-3, 6, 15],[-3, 6, 16],[-3, 6, 17],[-3, 6, 18],[-3, 6, 19],[-3, 6, 20],[-3, 6, 21],[-3, 6, 22],[-3, 6, 23],[-3, 7, 11],[-3, 7, 12],[-3, 7, 13],[-3, 7, 14],[-3, 7, 15],[-3, 7, 16],[-3, 7, 17],[-3, 7, 18],[-3, 7, 19],[-3, 7, 20],[-3, 7, 21],[-3, 7, 22],[-3, 7, 23],[-3, 8, 12],[-3, 8, 13],[-3, 8, 14],[-3, 8, 15],[-3, 8, 16],[-3, 8, 17],[-3, 8, 18],[-3, 8, 19],[-3, 8, 20],[-3, 8, 21],[-3, 8, 22],[-3, 8, 23],[-3, 9, 13],[-3, 9, 14],[-3, 9, 15],[-3, 9, 16],[-3, 9, 17],[-3, 9, 18],[-3, 9, 19],[-3, 9, 20],[-3, 9, 21],[-3, 9, 22],[-3, 9, 23],[-3, 10, 14],[-3, 10, 15],[-3, 10, 16],[-3, 10, 17],[-3, 10, 18],[-3, 10, 19],[-3, 10, 20],[-3, 10, 21],[-3, 10, 22],[-3, 10, 23],[-3, 11, 15],[-3, 11, 16],[-3, 11, 17],[-3, 11, 18],[-3, 11, 19],[-3, 11, 20],[-3, 11, 21],[-3, 11, 22],[-3, 11, 23],[-3, 12, 16],[-3, 12, 17],[-3, 12, 18],[-3, 12, 19],[-3, 12, 20],[-3, 12, 21],[-3, 12, 22],[-3, 12, 23],[-3, 13, 17],[-3, 13, 18],[-3, 13, 19],[-3, 13, 20],[-3, 13, 21],[-3, 13, 22],[-3, 13, 23],[-3, 14, 18],[-3, 14, 19],[-3, 14, 20],[-3, 14, 21],[-3, 14, 22],[-3, 14, 23],[-3, 15, 19],[-3, 15, 20],[-3, 15, 21],[-3, 15, 22],[-3, 15, 23],[-3, 16, 20],[-3, 16, 21],[-3, 16, 22],[-3, 16, 23],[-3, 17, 21],[-3, 17, 22],[-3, 17, 23],[-3, 18, 22],[-3, 18, 23],[-3, 19, 23],
            [-2, 2, 6],[-2, 2, 7],[-2, 2, 8],[-2, 2, 9],[-2, 2, 10],[-2, 2, 11],[-2, 2, 12],[-2, 2, 13],[-2, 2, 14],[-2, 2, 15],[-2, 2, 16],[-2, 2, 17],[-2, 2, 18],[-2, 2, 19],[-2, 2, 20],[-2, 2, 21],[-2, 2, 22],[-2, 2, 23],[-2, 3, 7],[-2, 3, 8],[-2, 3, 9],[-2, 3, 10],[-2, 3, 11],[-2, 3, 12],[-2, 3, 13],[-2, 3, 14],[-2, 3, 15],[-2, 3, 16],[-2, 3, 17],[-2, 3, 18],[-2, 3, 19],[-2, 3, 20],[-2, 3, 21],[-2, 3, 22],[-2, 3, 23],[-2, 4, 8],[-2, 4, 9],[-2, 4, 10],[-2, 4, 11],[-2, 4, 12],[-2, 4, 13],[-2, 4, 14],[-2, 4, 15],[-2, 4, 16],[-2, 4, 17],[-2, 4, 18],[-2, 4, 19],[-2, 4, 20],[-2, 4, 21],[-2, 4, 22],[-2, 4, 23],[-2, 5, 9],[-2, 5, 10],[-2, 5, 11],[-2, 5, 12],[-2, 5, 13],[-2, 5, 14],[-2, 5, 15],[-2, 5, 16],[-2, 5, 17],[-2, 5, 18],[-2, 5, 19],[-2, 5, 20],[-2, 5, 21],[-2, 5, 22],[-2, 5, 23],[-2, 6, 10],[-2, 6, 11],[-2, 6, 12],[-2, 6, 13],[-2, 6, 14],[-2, 6, 15],[-2, 6, 16],[-2, 6, 17],[-2, 6, 18],[-2, 6, 19],[-2, 6, 20],[-2, 6, 21],[-2, 6, 22],[-2, 6, 23],[-2, 7, 11],[-2, 7, 12],[-2, 7, 13],[-2, 7, 14],[-2, 7, 15],[-2, 7, 16],[-2, 7, 17],[-2, 7, 18],[-2, 7, 19],[-2, 7, 20],[-2, 7, 21],[-2, 7, 22],[-2, 7, 23],[-2, 8, 12],[-2, 8, 13],[-2, 8, 14],[-2, 8, 15],[-2, 8, 16],[-2, 8, 17],[-2, 8, 18],[-2, 8, 19],[-2, 8, 20],[-2, 8, 21],[-2, 8, 22],[-2, 8, 23],[-2, 9, 13],[-2, 9, 14],[-2, 9, 15],[-2, 9, 16],[-2, 9, 17],[-2, 9, 18],[-2, 9, 19],[-2, 9, 20],[-2, 9, 21],[-2, 9, 22],[-2, 9, 23],[-2, 10, 14],[-2, 10, 15],[-2, 10, 16],[-2, 10, 17],[-2, 10, 18],[-2, 10, 19],[-2, 10, 20],[-2, 10, 21],[-2, 10, 22],[-2, 10, 23],[-2, 11, 15],[-2, 11, 16],[-2, 11, 17],[-2, 11, 18],[-2, 11, 19],[-2, 11, 20],[-2, 11, 21],[-2, 11, 22],[-2, 11, 23],[-2, 12, 16],[-2, 12, 17],[-2, 12, 18],[-2, 12, 19],[-2, 12, 20],[-2, 12, 21],[-2, 12, 22],[-2, 12, 23],[-2, 13, 17],[-2, 13, 18],[-2, 13, 19],[-2, 13, 20],[-2, 13, 21],[-2, 13, 22],[-2, 13, 23],[-2, 14, 18],[-2, 14, 19],[-2, 14, 20],[-2, 14, 21],[-2, 14, 22],[-2, 14, 23],[-2, 15, 19],[-2, 15, 20],[-2, 15, 21],[-2, 15, 22],[-2, 15, 23],[-2, 16, 20],[-2, 16, 21],[-2, 16, 22],[-2, 16, 23],[-2, 17, 21],[-2, 17, 22],[-2, 17, 23],[-2, 18, 22],[-2, 18, 23],[-2, 19, 23],
            [-1, 3, 7],[-1, 3, 8],[-1, 3, 9],[-1, 3, 10],[-1, 3, 11],[-1, 3, 12],[-1, 3, 13],[-1, 3, 14],[-1, 3, 15],[-1, 3, 16],[-1, 3, 17],[-1, 3, 18],[-1, 3, 19],[-1, 3, 20],[-1, 3, 21],[-1, 3, 22],[-1, 3, 23],[-1, 4, 8],[-1, 4, 9],[-1, 4, 10],[-1, 4, 11],[-1, 4, 12],[-1, 4, 13],[-1, 4, 14],[-1, 4, 15],[-1, 4, 16],[-1, 4, 17],[-1, 4, 18],[-1, 4, 19],[-1, 4, 20],[-1, 4, 21],[-1, 4, 22],[-1, 4, 23],[-1, 5, 9],[-1, 5, 10],[-1, 5, 11],[-1, 5, 12],[-1, 5, 13],[-1, 5, 14],[-1, 5, 15],[-1, 5, 16],[-1, 5, 17],[-1, 5, 18],[-1, 5, 19],[-1, 5, 20],[-1, 5, 21],[-1, 5, 22],[-1, 5, 23],[-1, 6, 10],[-1, 6, 11],[-1, 6, 12],[-1, 6, 13],[-1, 6, 14],[-1, 6, 15],[-1, 6, 16],[-1, 6, 17],[-1, 6, 18],[-1, 6, 19],[-1, 6, 20],[-1, 6, 21],[-1, 6, 22],[-1, 6, 23],[-1, 7, 11],[-1, 7, 12],[-1, 7, 13],[-1, 7, 14],[-1, 7, 15],[-1, 7, 16],[-1, 7, 17],[-1, 7, 18],[-1, 7, 19],[-1, 7, 20],[-1, 7, 21],[-1, 7, 22],[-1, 7, 23],[-1, 8, 12],[-1, 8, 13],[-1, 8, 14],[-1, 8, 15],[-1, 8, 16],[-1, 8, 17],[-1, 8, 18],[-1, 8, 19],[-1, 8, 20],[-1, 8, 21],[-1, 8, 22],[-1, 8, 23],[-1, 9, 13],[-1, 9, 14],[-1, 9, 15],[-1, 9, 16],[-1, 9, 17],[-1, 9, 18],[-1, 9, 19],[-1, 9, 20],[-1, 9, 21],[-1, 9, 22],[-1, 9, 23],[-1, 10, 14],[-1, 10, 15],[-1, 10, 16],[-1, 10, 17],[-1, 10, 18],[-1, 10, 19],[-1, 10, 20],[-1, 10, 21],[-1, 10, 22],[-1, 10, 23],[-1, 11, 15],[-1, 11, 16],[-1, 11, 17],[-1, 11, 18],[-1, 11, 19],[-1, 11, 20],[-1, 11, 21],[-1, 11, 22],[-1, 11, 23],[-1, 12, 16],[-1, 12, 17],[-1, 12, 18],[-1, 12, 19],[-1, 12, 20],[-1, 12, 21],[-1, 12, 22],[-1, 12, 23],[-1, 13, 17],[-1, 13, 18],[-1, 13, 19],[-1, 13, 20],[-1, 13, 21],[-1, 13, 22],[-1, 13, 23],[-1, 14, 18],[-1, 14, 19],[-1, 14, 20],[-1, 14, 21],[-1, 14, 22],[-1, 14, 23],[-1, 15, 19],[-1, 15, 20],[-1, 15, 21],[-1, 15, 22],[-1, 15, 23],[-1, 16, 20],[-1, 16, 21],[-1, 16, 22],[-1, 16, 23],[-1, 17, 21],[-1, 17, 22],[-1, 17, 23],[-1, 18, 22],[-1, 18, 23],[-1, 19, 23],
            [0, 4, 8],[0, 4, 9],[0, 4, 10],[0, 4, 11],[0, 4, 12],[0, 4, 13],[0, 4, 14],[0, 4, 15],[0, 4, 16],[0, 4, 17],[0, 4, 18],[0, 4, 19],[0, 4, 20],[0, 4, 21],[0, 4, 22],[0, 4, 23],[0, 5, 9],[0, 5, 10],[0, 5, 11],[0, 5, 12],[0, 5, 13],[0, 5, 14],[0, 5, 15],[0, 5, 16],[0, 5, 17],[0, 5, 18],[0, 5, 19],[0, 5, 20],[0, 5, 21],[0, 5, 22],[0, 5, 23],[0, 6, 10],[0, 6, 11],[0, 6, 12],[0, 6, 13],[0, 6, 14],[0, 6, 15],[0, 6, 16],[0, 6, 17],[0, 6, 18],[0, 6, 19],[0, 6, 20],[0, 6, 21],[0, 6, 22],[0, 6, 23],[0, 7, 11],[0, 7, 12],[0, 7, 13],[0, 7, 14],[0, 7, 15],[0, 7, 16],[0, 7, 17],[0, 7, 18],[0, 7, 19],[0, 7, 20],[0, 7, 21],[0, 7, 22],[0, 7, 23],[0, 8, 12],[0, 8, 13],[0, 8, 14],[0, 8, 15],[0, 8, 16],[0, 8, 17],[0, 8, 18],[0, 8, 19],[0, 8, 20],[0, 8, 21],[0, 8, 22],[0, 8, 23],[0, 9, 13],[0, 9, 14],[0, 9, 15],[0, 9, 16],[0, 9, 17],[0, 9, 18],[0, 9, 19],[0, 9, 20],[0, 9, 21],[0, 9, 22],[0, 9, 23],[0, 10, 14],[0, 10, 15],[0, 10, 16],[0, 10, 17],[0, 10, 18],[0, 10, 19],[0, 10, 20],[0, 10, 21],[0, 10, 22],[0, 10, 23],[0, 11, 15],[0, 11, 16],[0, 11, 17],[0, 11, 18],[0, 11, 19],[0, 11, 20],[0, 11, 21],[0, 11, 22],[0, 11, 23],[0, 12, 16],[0, 12, 17],[0, 12, 18],[0, 12, 19],[0, 12, 20],[0, 12, 21],[0, 12, 22],[0, 12, 23],[0, 13, 17],[0, 13, 18],[0, 13, 19],[0, 13, 20],[0, 13, 21],[0, 13, 22],[0, 13, 23],[0, 14, 18],[0, 14, 19],[0, 14, 20],[0, 14, 21],[0, 14, 22],[0, 14, 23],[0, 15, 19],[0, 15, 20],[0, 15, 21],[0, 15, 22],[0, 15, 23],[0, 16, 20],[0, 16, 21],[0, 16, 22],[0, 16, 23],[0, 17, 21],[0, 17, 22],[0, 17, 23],[0, 18, 22],[0, 18, 23],[0, 19, 23],
            [1, 5, 9],[1, 5, 10],[1, 5, 11],[1, 5, 12],[1, 5, 13],[1, 5, 14],[1, 5, 15],[1, 5, 16],[1, 5, 17],[1, 5, 18],[1, 5, 19],[1, 5, 20],[1, 5, 21],[1, 5, 22],[1, 5, 23],[1, 6, 10],[1, 6, 11],[1, 6, 12],[1, 6, 13],[1, 6, 14],[1, 6, 15],[1, 6, 16],[1, 6, 17],[1, 6, 18],[1, 6, 19],[1, 6, 20],[1, 6, 21],[1, 6, 22],[1, 6, 23],[1, 7, 11],[1, 7, 12],[1, 7, 13],[1, 7, 14],[1, 7, 15],[1, 7, 16],[1, 7, 17],[1, 7, 18],[1, 7, 19],[1, 7, 20],[1, 7, 21],[1, 7, 22],[1, 7, 23],[1, 8, 12],[1, 8, 13],[1, 8, 14],[1, 8, 15],[1, 8, 16],[1, 8, 17],[1, 8, 18],[1, 8, 19],[1, 8, 20],[1, 8, 21],[1, 8, 22],[1, 8, 23],[1, 9, 13],[1, 9, 14],[1, 9, 15],[1, 9, 16],[1, 9, 17],[1, 9, 18],[1, 9, 19],[1, 9, 20],[1, 9, 21],[1, 9, 22],[1, 9, 23],[1, 10, 14],[1, 10, 15],[1, 10, 16],[1, 10, 17],[1, 10, 18],[1, 10, 19],[1, 10, 20],[1, 10, 21],[1, 10, 22],[1, 10, 23],[1, 11, 15],[1, 11, 16],[1, 11, 17],[1, 11, 18],[1, 11, 19],[1, 11, 20],[1, 11, 21],[1, 11, 22],[1, 11, 23],[1, 12, 16],[1, 12, 17],[1, 12, 18],[1, 12, 19],[1, 12, 20],[1, 12, 21],[1, 12, 22],[1, 12, 23],[1, 13, 17],[1, 13, 18],[1, 13, 19],[1, 13, 20],[1, 13, 21],[1, 13, 22],[1, 13, 23],[1, 14, 18],[1, 14, 19],[1, 14, 20],[1, 14, 21],[1, 14, 22],[1, 14, 23],[1, 15, 19],[1, 15, 20],[1, 15, 21],[1, 15, 22],[1, 15, 23],[1, 16, 20],[1, 16, 21],[1, 16, 22],[1, 16, 23],[1, 17, 21],[1, 17, 22],[1, 17, 23],[1, 18, 22],[1, 18, 23],[1, 19, 23],
            [2, 6, 10],[2, 6, 11],[2, 6, 12],[2, 6, 13],[2, 6, 14],[2, 6, 15],[2, 6, 16],[2, 6, 17],[2, 6, 18],[2, 6, 19],[2, 6, 20],[2, 6, 21],[2, 6, 22],[2, 6, 23],[2, 7, 11],[2, 7, 12],[2, 7, 13],[2, 7, 14],[2, 7, 15],[2, 7, 16],[2, 7, 17],[2, 7, 18],[2, 7, 19],[2, 7, 20],[2, 7, 21],[2, 7, 22],[2, 7, 23],[2, 8, 12],[2, 8, 13],[2, 8, 14],[2, 8, 15],[2, 8, 16],[2, 8, 17],[2, 8, 18],[2, 8, 19],[2, 8, 20],[2, 8, 21],[2, 8, 22],[2, 8, 23],[2, 9, 13],[2, 9, 14],[2, 9, 15],[2, 9, 16],[2, 9, 17],[2, 9, 18],[2, 9, 19],[2, 9, 20],[2, 9, 21],[2, 9, 22],[2, 9, 23],[2, 10, 14],[2, 10, 15],[2, 10, 16],[2, 10, 17],[2, 10, 18],[2, 10, 19],[2, 10, 20],[2, 10, 21],[2, 10, 22],[2, 10, 23],[2, 11, 15],[2, 11, 16],[2, 11, 17],[2, 11, 18],[2, 11, 19],[2, 11, 20],[2, 11, 21],[2, 11, 22],[2, 11, 23],[2, 12, 16],[2, 12, 17],[2, 12, 18],[2, 12, 19],[2, 12, 20],[2, 12, 21],[2, 12, 22],[2, 12, 23],[2, 13, 17],[2, 13, 18],[2, 13, 19],[2, 13, 20],[2, 13, 21],[2, 13, 22],[2, 13, 23],[2, 14, 18],[2, 14, 19],[2, 14, 20],[2, 14, 21],[2, 14, 22],[2, 14, 23],[2, 15, 19],[2, 15, 20],[2, 15, 21],[2, 15, 22],[2, 15, 23],[2, 16, 20],[2, 16, 21],[2, 16, 22],[2, 16, 23],[2, 17, 21],[2, 17, 22],[2, 17, 23],[2, 18, 22],[2, 18, 23],[2, 19, 23],
            [3, 7, 11],[3, 7, 12],[3, 7, 13],[3, 7, 14],[3, 7, 15],[3, 7, 16],[3, 7, 17],[3, 7, 18],[3, 7, 19],[3, 7, 20],[3, 7, 21],[3, 7, 22],[3, 7, 23],[3, 8, 12],[3, 8, 13],[3, 8, 14],[3, 8, 15],[3, 8, 16],[3, 8, 17],[3, 8, 18],[3, 8, 19],[3, 8, 20],[3, 8, 21],[3, 8, 22],[3, 8, 23],[3, 9, 13],[3, 9, 14],[3, 9, 15],[3, 9, 16],[3, 9, 17],[3, 9, 18],[3, 9, 19],[3, 9, 20],[3, 9, 21],[3, 9, 22],[3, 9, 23],[3, 10, 14],[3, 10, 15],[3, 10, 16],[3, 10, 17],[3, 10, 18],[3, 10, 19],[3, 10, 20],[3, 10, 21],[3, 10, 22],[3, 10, 23],[3, 11, 15],[3, 11, 16],[3, 11, 17],[3, 11, 18],[3, 11, 19],[3, 11, 20],[3, 11, 21],[3, 11, 22],[3, 11, 23],[3, 12, 16],[3, 12, 17],[3, 12, 18],[3, 12, 19],[3, 12, 20],[3, 12, 21],[3, 12, 22],[3, 12, 23],[3, 13, 17],[3, 13, 18],[3, 13, 19],[3, 13, 20],[3, 13, 21],[3, 13, 22],[3, 13, 23],[3, 14, 18],[3, 14, 19],[3, 14, 20],[3, 14, 21],[3, 14, 22],[3, 14, 23],[3, 15, 19],[3, 15, 20],[3, 15, 21],[3, 15, 22],[3, 15, 23],[3, 16, 20],[3, 16, 21],[3, 16, 22],[3, 16, 23],[3, 17, 21],[3, 17, 22],[3, 17, 23],[3, 18, 22],[3, 18, 23],[3, 19, 23],
            [4, 8, 12],[4, 8, 13],[4, 8, 14],[4, 8, 15],[4, 8, 16],[4, 8, 17],[4, 8, 18],[4, 8, 19],[4, 8, 20],[4, 8, 21],[4, 8, 22],[4, 8, 23],[4, 9, 13],[4, 9, 14],[4, 9, 15],[4, 9, 16],[4, 9, 17],[4, 9, 18],[4, 9, 19],[4, 9, 20],[4, 9, 21],[4, 9, 22],[4, 9, 23],[4, 10, 14],[4, 10, 15],[4, 10, 16],[4, 10, 17],[4, 10, 18],[4, 10, 19],[4, 10, 20],[4, 10, 21],[4, 10, 22],[4, 10, 23],[4, 11, 15],[4, 11, 16],[4, 11, 17],[4, 11, 18],[4, 11, 19],[4, 11, 20],[4, 11, 21],[4, 11, 22],[4, 11, 23],[4, 12, 16],[4, 12, 17],[4, 12, 18],[4, 12, 19],[4, 12, 20],[4, 12, 21],[4, 12, 22],[4, 12, 23],[4, 13, 17],[4, 13, 18],[4, 13, 19],[4, 13, 20],[4, 13, 21],[4, 13, 22],[4, 13, 23],[4, 14, 18],[4, 14, 19],[4, 14, 20],[4, 14, 21],[4, 14, 22],[4, 14, 23],[4, 15, 19],[4, 15, 20],[4, 15, 21],[4, 15, 22],[4, 15, 23],[4, 16, 20],[4, 16, 21],[4, 16, 22],[4, 16, 23],[4, 17, 21],[4, 17, 22],[4, 17, 23],[4, 18, 22],[4, 18, 23],[4, 19, 23],
            [5, 9, 13],[5, 9, 14],[5, 9, 15],[5, 9, 16],[5, 9, 17],[5, 9, 18],[5, 9, 19],[5, 9, 20],[5, 9, 21],[5, 9, 22],[5, 9, 23],[5, 10, 14],[5, 10, 15],[5, 10, 16],[5, 10, 17],[5, 10, 18],[5, 10, 19],[5, 10, 20],[5, 10, 21],[5, 10, 22],[5, 10, 23],[5, 11, 15],[5, 11, 16],[5, 11, 17],[5, 11, 18],[5, 11, 19],[5, 11, 20],[5, 11, 21],[5, 11, 22],[5, 11, 23],[5, 12, 16],[5, 12, 17],[5, 12, 18],[5, 12, 19],[5, 12, 20],[5, 12, 21],[5, 12, 22],[5, 12, 23],[5, 13, 17],[5, 13, 18],[5, 13, 19],[5, 13, 20],[5, 13, 21],[5, 13, 22],[5, 13, 23],[5, 14, 18],[5, 14, 19],[5, 14, 20],[5, 14, 21],[5, 14, 22],[5, 14, 23],[5, 15, 19],[5, 15, 20],[5, 15, 21],[5, 15, 22],[5, 15, 23],[5, 16, 20],[5, 16, 21],[5, 16, 22],[5, 16, 23],[5, 17, 21],[5, 17, 22],[5, 17, 23],[5, 18, 22],[5, 18, 23],[5, 19, 23],
            [6, 10, 14],[6, 10, 15],[6, 10, 16],[6, 10, 17],[6, 10, 18],[6, 10, 19],[6, 10, 20],[6, 10, 21],[6, 10, 22],[6, 10, 23],[6, 11, 15],[6, 11, 16],[6, 11, 17],[6, 11, 18],[6, 11, 19],[6, 11, 20],[6, 11, 21],[6, 11, 22],[6, 11, 23],[6, 12, 16],[6, 12, 17],[6, 12, 18],[6, 12, 19],[6, 12, 20],[6, 12, 21],[6, 12, 22],[6, 12, 23],[6, 13, 17],[6, 13, 18],[6, 13, 19],[6, 13, 20],[6, 13, 21],[6, 13, 22],[6, 13, 23],[6, 14, 18],[6, 14, 19],[6, 14, 20],[6, 14, 21],[6, 14, 22],[6, 14, 23],[6, 15, 19],[6, 15, 20],[6, 15, 21],[6, 15, 22],[6, 15, 23],[6, 16, 20],[6, 16, 21],[6, 16, 22],[6, 16, 23],[6, 17, 21],[6, 17, 22],[6, 17, 23],[6, 18, 22],[6, 18, 23],[6, 19, 23],
            [7, 11, 15],[7, 11, 16],[7, 11, 17],[7, 11, 18],[7, 11, 19],[7, 11, 20],[7, 11, 21],[7, 11, 22],[7, 11, 23],[7, 12, 16],[7, 12, 17],[7, 12, 18],[7, 12, 19],[7, 12, 20],[7, 12, 21],[7, 12, 22],[7, 12, 23],[7, 13, 17],[7, 13, 18],[7, 13, 19],[7, 13, 20],[7, 13, 21],[7, 13, 22],[7, 13, 23],[7, 14, 18],[7, 14, 19],[7, 14, 20],[7, 14, 21],[7, 14, 22],[7, 14, 23],[7, 15, 19],[7, 15, 20],[7, 15, 21],[7, 15, 22],[7, 15, 23],[7, 16, 20],[7, 16, 21],[7, 16, 22],[7, 16, 23],[7, 17, 21],[7, 17, 22],[7, 17, 23],[7, 18, 22],[7, 18, 23],[7, 19, 23],
            [8, 12, 16],[8, 12, 17],[8, 12, 18],[8, 12, 19],[8, 12, 20],[8, 12, 21],[8, 12, 22],[8, 12, 23],[8, 13, 17],[8, 13, 18],[8, 13, 19],[8, 13, 20],[8, 13, 21],[8, 13, 22],[8, 13, 23],[8, 14, 18],[8, 14, 19],[8, 14, 20],[8, 14, 21],[8, 14, 22],[8, 14, 23],[8, 15, 19],[8, 15, 20],[8, 15, 21],[8, 15, 22],[8, 15, 23],[8, 16, 20],[8, 16, 21],[8, 16, 22],[8, 16, 23],[8, 17, 21],[8, 17, 22],[8, 17, 23],[8, 18, 22],[8, 18, 23],[8, 19, 23],
            [9, 13, 17],[9, 13, 18],[9, 13, 19],[9, 13, 20],[9, 13, 21],[9, 13, 22],[9, 13, 23],[9, 14, 18],[9, 14, 19],[9, 14, 20],[9, 14, 21],[9, 14, 22],[9, 14, 23],[9, 15, 19],[9, 15, 20],[9, 15, 21],[9, 15, 22],[9, 15, 23],[9, 16, 20],[9, 16, 21],[9, 16, 22],[9, 16, 23],[9, 17, 21],[9, 17, 22],[9, 17, 23],[9, 18, 22],[9, 18, 23],[9, 19, 23],
            [10, 14, 18],[10, 14, 19],[10, 14, 20],[10, 14, 21],[10, 14, 22],[10, 14, 23],[10, 15, 19],[10, 15, 20],[10, 15, 21],[10, 15, 22],[10, 15, 23],[10, 16, 20],[10, 16, 21],[10, 16, 22],[10, 16, 23],[10, 17, 21],[10, 17, 22],[10, 17, 23],[10, 18, 22],[10, 18, 23],[10, 19, 23],
            [11, 15, 19],[11, 15, 20],[11, 15, 21],[11, 15, 22],[11, 15, 23],[11, 16, 20],[11, 16, 21],[11, 16, 22],[11, 16, 23],[11, 17, 21],[11, 17, 22],[11, 17, 23],[11, 18, 22],[11, 18, 23],[11, 19, 23],
            [12, 16, 20],[12, 16, 21],[12, 16, 22],[12, 16, 23],[12, 17, 21],[12, 17, 22],[12, 17, 23],[12, 18, 22],[12, 18, 23],[12, 19, 23],
            [13, 17, 21],[13, 17, 22],[13, 17, 23],[13, 18, 22],[13, 18, 23],[13, 19, 23],
            [14, 18, 22],[14, 18, 23],[14, 19, 23],
            [15, 19, 23]
        ],

        _getOptimizedOffsets = function _getOptimizedOffsets() {

            var offsetIndex, // stores which offset currently has the best result
                bestTime = 999999, // stores the amount of time saved an offset needs to beat
                i,
                offsets,
                result;

            for (i = 0; i < _possibleOffsets.length; i++) { // loop through each possible offset

                offsets = _possibleOffsets[i];
                result = 0;

                $('.trip-wrap').each(function() { // loop through each trip

                    // get trip info
                    var initialPlatformTime = $('.platform-time', $(this)).data('initial-platform-time'),
                        minTime = $('.trip-start', $(this)).data('min-train-time'),
                        route = $('.connection', $(this)).data('route'),
                        routeDirection = $('.connection', $(this)).data('route-direction'),
                        startStationId = $('.trip-start', $(this)).data('start-station'),
                        firstTrainTime = ScheduleHelper.getFirstTrainTime(route, routeDirection, minTime, startStationId, offsets[0], offsets[1], offsets[2]),
                        newPlatformTime = firstTrainTime - minTime;

                    result += Math.floor(newPlatformTime / 60);

                });

                if (result < bestTime) {
                    // found a better schedule, save it
                    offsetIndex = i;
                    bestTime = result;
                }
            }


            return _possibleOffsets[offsetIndex];

        };
 
    return {
        getOptimizedOffsets: _getOptimizedOffsets
    };

})();